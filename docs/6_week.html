<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023 - Classification I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">CASA0023</span>
    </a>
  </div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Classification I</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Learning Content</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_week.html" class="sidebar-item-text sidebar-link">Week 1</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_week.html" class="sidebar-item-text sidebar-link">Week 2</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_week.html" class="sidebar-item-text sidebar-link">Week 3</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_week.html" class="sidebar-item-text sidebar-link">Week 4</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_week.html" class="sidebar-item-text sidebar-link">Week 5</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_week.html" class="sidebar-item-text sidebar-link active">Week 6</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_week.html" class="sidebar-item-text sidebar-link">Week 7</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_week.html" class="sidebar-item-text sidebar-link">Week 8</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Reflection.html" class="sidebar-item-text sidebar-link">Reflection</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#different-sensors" id="toc-different-sensors" class="nav-link active" data-scroll-target="#different-sensors">Different sensors</a></li>
  <li><a href="#test-train-validate" id="toc-test-train-validate" class="nav-link" data-scroll-target="#test-train-validate">Test, Train, Validate</a></li>
  <li><a href="#regression-tree" id="toc-regression-tree" class="nav-link" data-scroll-target="#regression-tree">Regression tree</a></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application">Application</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection">Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Classification I</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="column-body">
<p>This week we worked on Classifications. We shall focus on Different sensors; Test, Train and Validation of datasets; regression tree followed by few observations from the designed practical.</p>
</div>
<section id="different-sensors" class="level2">
<h2 class="anchored" data-anchor-id="different-sensors">Different sensors</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image-1598825921.png" class="img-fluid figure-img" width="518"></p>
<p></p><figcaption class="figure-caption">A possible nested architecture for remote sensing of UGSs. SOURCE: <span class="citation" data-cites="shahtahmassebi2021">Shahtahmassebi et al. (<a href="#ref-shahtahmassebi2021" role="doc-biblioref">2021</a>)</span></figcaption><p></p>
</figure>
</div>
</section>
<section id="test-train-validate" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="test-train-validate">Test, Train, Validate</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image-539172647.png" class="img-fluid figure-img" width="273"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Testtrain.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Test, Train and Validation. SOURCE: <a href="https://mlu-explain.github.io/train-test-validation/">mlu-explain</a></figcaption><p></p>
</figure>
</div>
<div class="column-body">
<p>Below indicated Understanding Based on <a href="https://mlu-explain.github.io/train-test-validation/">mlu-explain</a></p>
<p><strong>Goal:</strong></p>
<ul>
<li>Train the data to determine cat or dog</li>
</ul>
<p><strong>Data set</strong></p>
<ul>
<li>types: 2 types of animals</li>
<li>features: weight and fluffiness</li>
</ul>
<p><strong>Using?</strong></p>
<ul>
<li>supervised machine learning</li>
</ul>
<p><strong>How?</strong></p>
<ul>
<li>split data into three
<ul>
<li>training set</li>
<li>Testing set</li>
<li>Validation set</li>
</ul></li>
<li>How should the train it?</li>
<li>Use an appropriate model</li>
</ul>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image-470206658.png" class="img-fluid figure-img" width="417"></p>
<p></p><figcaption class="figure-caption">Process. SOURCE: <a href="https://www.v7labs.com/blog/train-validation-test-set#:~:text=Training%20data%20is%20the%20set,after%20completing%20the%20training%20phase.">v7labs</a></figcaption><p></p>
</figure>
</div>
<table class="table">
<colgroup>
<col style="width: 21%">
<col style="width: 41%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Test</th>
<th>Train</th>
<th>Validation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>Dataset used to test the model after completing the training</li>
<li>result: unbiased final model</li>
<li>accurate and percise</li>
</ul></td>
<td><ul>
<li>To train the mode</li>
<li>Learn underlying relationships</li>
<li>Should be a representative of the population</li>
<li>Chooses best parameters</li>
<li>Unbiased</li>
<li>avoid- overfitting</li>
<li>Same set of training data is fed into the neural network arch (repeatedly) -&gt; model learns the features of the data set</li>
<li>Diversified set of inputs- why?- to train the model of all the scenarios-&gt; predicting unseen data samples</li>
</ul></td>
<td><p>chooses: best hyper-parameters + best model for the task - LR and neural networks</p>
<ul>
<li>Separate fom the training set</li>
<li>helps tune model‚Äôs hyper parameters</li>
<li>helps us understand if training of data is moving in the correct direction or not</li>
<li>how does this work?
<ul>
<li>training data set-&gt; trained on the model + simultaneously Validation set-&gt; performs model evaluation</li>
</ul></li>
<li>Why is dataset split to validation set?
<ul>
<li>To prevent model over fitting</li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>Helpful Videos: üìπ</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=NPWlj9G1Si8">Validation data: How it works and why you need it - Machine Learning Basics Explained</a></li>
<li><a href="https://www.youtube.com/watch?v=Zi-0rlM4RDs">Train, Test, &amp; Validation Sets explained</a></li>
</ul>
</section>
<section id="regression-tree" class="level2">
<h2 class="anchored" data-anchor-id="regression-tree">Regression tree</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regressiontree.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Decision Tree - Classification. SOURCE:</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tree.png" class="img-fluid figure-img" width="566"></p>
<p></p><figcaption class="figure-caption">Building Regression Tree. SOURCE: <a href="https://medium.datadriveninvestor.com/how-do-regression-trees-work-94999c5105d">medium.datadriveninvestor</a></figcaption><p></p>
</figure>
</div>
</section>
<section id="application" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="application">Application</h2>
<div class="column-body">
<p><span class="citation" data-cites="friedl1997">Friedl and Brodley (<a href="#ref-friedl1997" role="doc-biblioref">1997</a>)</span></p>
<p>Concern: - parametric supervised classification algorithms - unsupervised classification algorithms</p>
<p><span class="citation" data-cites="sharma2013">Sharma, Ghosh, and Joshi (<a href="#ref-sharma2013" role="doc-biblioref">2013</a>)</span></p>
<ul>
<li><p>Geographical Location: Surat, Gujarat (India)</p></li>
<li><p>Area: 386.28 km2</p></li>
<li><p>Data source:</p></li>
<li><p>Classification technique: 3 classification methods</p>
<ol type="1">
<li><p>ISODATA (Iterative Self-Organizing Data Analysis) Clustering,</p></li>
<li><p>MLC</p></li>
<li><p>DTC (to map out 6 classes based on classification scheme)</p></li>
</ol></li>
<li><p>Classification scheme:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image-1781657294.png" class="img-fluid figure-img" width="379"></p>
<p></p><figcaption class="figure-caption">Classification scheme</figcaption><p></p>
</figure>
</div></li>
<li><p><em>ISODATA</em></p>
<ul>
<li>Satellite data clustering (using ISODATA)</li>
<li>50 classes (6 iterations)</li>
<li>0.95 convergence threshold</li>
<li>clusters &gt;&gt; 1 of the 6 land use categories identified (above image)&gt;&gt; merged &gt;&gt; unsupervised classification</li>
</ul></li>
<li><p><em>Supervised classification using MLC</em></p>
<ul>
<li>Calculating the probability of a pixel belonging to the 6 classification</li>
<li><strong>How?</strong> maximum probability &gt;&gt; pixel assignment &gt;&gt; respective class</li>
</ul></li>
</ul>
<ol start="3" type="1">
<li><em>Decision tree</em></li>
</ol>
<ul>
<li>Classification= WEKA (open source data mining software)</li>
<li>Image conversion= ASCII format &gt;&gt;</li>
<li>DT classification</li>
<li>Decision rule set
<ul>
<li>Generation: training sets in WEKA J48 classifier (used for training the Landsat TM data set)</li>
</ul></li>
<li>Output rule sets + trial classification results&gt;&gt; examined</li>
<li>Why? confidence levels and accuracies.</li>
<li>Based on these results &gt;&gt; modification of training sites (if necessary)</li>
<li>Uptill?
<ul>
<li>Reliable training sets are obtained</li>
<li>Good classification accuracies</li>
<li>Accuracies how? (based on Kappa statistics and overall accuracy)</li>
</ul></li>
<li>Rule set = highest accuracy &gt;&gt; classify entire dataset in WEKA (using J48 classifier)</li>
<li>signature dataset (training) &gt;&gt; CONSISTING OF 644 training pixels &gt;&gt; Classification of images &gt;&gt; 6 land use classes
<ul>
<li>Deep water = 8%,</li>
<li>Shallow water = 9%</li>
<li>Sparse = 11% and</li>
<li>Dense built-up = 11%</li>
<li>Agriculture = 19%</li>
<li>Rest = 42% fallow land</li>
</ul></li>
<li>4 crucial factors for <em>Classification performance</em></li>
<li>Class separability</li>
<li>Training sample size</li>
<li>Dimensional</li>
<li>Classifier type</li>
<li>Class separability using Transform Divergence (TD) test &gt;&gt;&gt; result= 0 to 2000= good separability (good= greater than 1900; fair= 1700 and 1900; Poor= below 1700; )</li>
<li>Distributed throughout the study area = satellite data + fine resolution Google Earth images</li>
<li>Statistically valid sampling = commission, omission &amp; accuracy (overall using LULC information)</li>
<li>Cover type information = classified map</li>
</ul>
<p><strong>RESULTS</strong></p>
<p><img src="images/image-475019501.png" class="img-fluid" width="313"></p>
<ul>
<li>Good separation among classes</li>
<li>BUT ---
<ul>
<li>Major overlap</li>
<li>Shallow water &amp; fallow class</li>
<li>Some overlap</li>
<li>Sparse &amp; dense built-up classes</li>
</ul></li>
</ul>
<p><strong><em>Decision tree</em></strong></p>
<p><img src="images/image-962698653.png" class="img-fluid" width="511"></p>
<p>.</p>
<p><img src="images/image-1625191819.png" class="img-fluid" width="465"></p>
<p><strong>Evaluation of training sets</strong></p>
<p><img src="images/image-1534077956.png" class="img-fluid" width="246"></p>
<p><strong>Classification results</strong></p>
<p><img src="images/image-1989408921.png" class="img-fluid" width="468"></p>
<p><img src="images/image-1754338698.png" class="img-fluid" width="466"></p>
<p>Accuracy Assessment:</p>
<ul>
<li>Confusion matrix &gt;&gt; overlaying reference locations on classified map</li>
<li>DTC = 90% (overall accuracy)</li>
<li>Kappa = 0.88</li>
<li>Supervised classification= 76.67% (overall accuracy)</li>
<li>Kappa = 0.7186</li>
<li>ISODATA (Overall accuracy for classification) = 50 clusters = eight classes = 50.83% (overall accuracy)</li>
<li>Kappa = 0.4134</li>
<li>ISODATA (Classification accuracy)
<ul>
<li>2.33% <em>(PA for shallow water)</em> to 100% <em>(PA for deep water and UA for fallow)</em></li>
<li>MLC accuracy= 61.1% <em>(PA for dense built-up)</em> to 96.8% <em>(UA for shallow water).</em></li>
</ul></li>
<li>DTC exhibit highest accuracy range
<ul>
<li>75% (UA for agriculture) to 100% <em>(UA for shallow water)</em></li>
</ul></li>
</ul>
<p><strong>Conclusion</strong></p>
<ul>
<li>Strength of DTC = flexibility and simplicity</li>
<li>for?
<ul>
<li>Partitioning dataset</li>
<li>Employs differentiation among the linear feature</li>
<li>defining boundaries between classes</li>
</ul></li>
<li>Open source data mining software
<ul>
<li>use = attributes of a pixel &gt;&gt; construct a decision tree</li>
</ul></li>
<li>WEKA Limitation
<ul>
<li>handling large datasets = methodology implementation implemented = smaller area</li>
<li>spatial resolution= not sufficient (analysisng finer details)</li>
</ul></li>
<li>Study= lacking ground data collection</li>
</ul>
</div>
</section>
<section id="reflection" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="reflection">Reflection</h2>
<div class="column-body">
<ul>
<li>The advantage in pre-process= comparatively less effort in data preparation</li>
<li>Data: no normalization, no scaling, no effect of missing data on DT</li>
<li>BUT: a small change in the data set would lead to a larger change in DT structure, as it is time consuming to train the model this small change can make the process tedious</li>
<li>Should be comparatively easy to explain to stakeholders</li>
<li>It would help fill the gap of cost of acquiring and collecting data, especially in countries that are not more economically developed/ emergent nations.
<ul>
<li><span class="citation" data-cites="holloway2019">Holloway et al. (<a href="#ref-holloway2019" role="doc-biblioref">2019</a>)</span></li>
<li>Key barriers to monitor SDG‚Äôs
<ul>
<li>Cost of acquiring and collecting data</li>
<li>Lack of infrastructure</li>
<li>Required skills within countries and Organization</li>
<li>Satellite Imagery= addresses the issue of cost of data acquisition</li>
<li>Method contributing towards= SDG 15 (forest management), SDG 6 and SDG 2</li>
<li>Missing and observed data across all images in the study: Output=
<ul>
<li>Random Forest Method= more accurate</li>
<li>Inverse distance weighted interpolation for predicting Foliage Projective Cover (FPC)= Lesser compared to RFM</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-friedl1997" class="csl-entry" role="doc-biblioentry">
Friedl, M. A., and C. E. Brodley. 1997. <span>‚ÄúDecision Tree Classification of Land Cover from Remotely Sensed Data.‚Äù</span> <em>Remote Sensing of Environment</em> 61 (3): 399‚Äì409. https://doi.org/<a href="https://doi.org/10.1016/S0034-4257(97)00049-7">https://doi.org/10.1016/S0034-4257(97)00049-7</a>.
</div>
<div id="ref-holloway2019" class="csl-entry" role="doc-biblioentry">
Holloway, Jacinta, Kate J. Helmstedt, Kerrie Mengersen, and Michael Schmidt. 2019. <span>‚ÄúA Decision Tree Approach for Spatially Interpolating Missing Land Cover Data and Classifying Satellite Images.‚Äù</span> <em>Remote Sensing</em> 11 (15). <a href="https://doi.org/10.3390/rs11151796">https://doi.org/10.3390/rs11151796</a>.
</div>
<div id="ref-shahtahmassebi2021" class="csl-entry" role="doc-biblioentry">
Shahtahmassebi, Amir Reza, Chenlu Li, Yifan Fan, Yani Wu, Yue lin, Muye Gan, Ke Wang, Arunima Malik, and George Alan Blackburn. 2021. <span>‚ÄúRemote Sensing of Urban Green Spaces: A Review.‚Äù</span> <em>Urban Forestry &amp; Urban Greening</em> 57: 126946. https://doi.org/<a href="https://doi.org/10.1016/j.ufug.2020.126946">https://doi.org/10.1016/j.ufug.2020.126946</a>.
</div>
<div id="ref-sharma2013" class="csl-entry" role="doc-biblioentry">
Sharma, Richa, Aniruddha Ghosh, and P Joshi. 2013. <span>‚ÄúDecision Tree Approach for Classification of Remotely Sensed Satellite Data Using Open Source Support.‚Äù</span> <em>Journal of Earth System Science</em> 122 (October): 1237‚Äì47. <a href="https://doi.org/10.1007/s12040-013-0339-2">https://doi.org/10.1007/s12040-013-0339-2</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>